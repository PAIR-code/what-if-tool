<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Do we need additional share metadata included here? -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-46457317-11"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-46457317-11');
</script>

    <title>Understanding Performance Metrics For Classifiers</title>
    
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="/what-if-tool/assets/css/material.min.css">
    <link rel="stylesheet" href="/what-if-tool/assets/css/material-components-web.min.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,500,500italic,700,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Manrope:400,400italic,500,500italic,700,700italic" rel="stylesheet" type="text/css">

    <!-- <link href='/what-if-tool/assets/css/main.css' rel='stylesheet' type='text/css'> -->
    <link href='/what-if-tool/assets/css/new.css' rel='stylesheet' type='text/css'>
    <link rel="icon" href="/what-if-tool/assets/images/favicon.png" type="image/png"/>

  </head>

  <body>
    <div class="mdl-layout mdl-layout--no-desktop-drawer-button mdl-js-layout mdl-layout--fixed-header">
      
      <header class="mdl-layout__header">
        <div class="mdl-layout__header-row">
          <!-- Title -->
          <span class="mdl-layout__title"><a href="/what-if-tool/">What-If Tool</a></span>
          <!-- Add spacer, to align navigation to the right -->
          <div class="mdl-layout-spacer"></div>
          <!-- Navigation. We hide it in small screens. -->
          <nav class="mdl-navigation mdl-layout--large-screen-only">
            <a class="mdl-navigation__link" href="/what-if-tool/get-started/">GET STARTED</a>
            <a class="mdl-navigation__link" href="/what-if-tool/learn/">TUTORIALS</a>
            <a class="mdl-navigation__link" href="/what-if-tool/explore/">DEMOS</a>
            <a class="mdl-navigation__link" href="/what-if-tool/faqs/">FAQs</a>
            <a class="mdl-navigation__link" href="https://groups.google.com/forum/#!forum/what-if-tool" target="-_blank">GET INVOLVED<img class="header-arrow" src="/what-if-tool/assets/images/arrow-link-out.png"/></a>
            <a class="mdl-navigation__link" href="https://github.com/pair-code/what-if-tool" target="-_blank">GITHUB<img class="header-arrow" src="/what-if-tool/assets/images/arrow-link-out.png"/></a>
          </nav>
        </div>
      </header>
      <div class="mdl-layout__drawer">
        <span class="mdl-layout__title"><a href="/what-if-tool/">What-If Tool</a></span>
        <nav class="mdl-navigation">
          <a class="mdl-navigation__link" href="/what-if-tool/get-started/">GET STARTED</a>
          <a class="mdl-navigation__link" href="/what-if-tool/learn/">TUTORIALS</a>
          <a class="mdl-navigation__link" href="/what-if-tool/explore/">DEMOS</a>
          <a class="mdl-navigation__link" href="/what-if-tool/faqs/">FAQs</a>
          <a class="mdl-navigation__link" href="https://groups.google.com/forum/#!forum/what-if-tool" target="_blank">GET INVOLVED<img class="header-arrow" src="/what-if-tool/assets/images/arrow-link-out.png"/></a>
          <a class="mdl-navigation__link" href="https://github.com/pair-code/what-if-tool" target="-_blank">GITHUB<img class="header-arrow" src="/what-if-tool/assets/images/arrow-link-out.png"/></a>
          
          <!-- <a class="mdl-navigation__link" href="https://pair-code.github.io/facets/" target="-_blank">
            <i class="material-icons icon-style">star</i>
            <span>Facets</span>
          </a>
          <a class="mdl-navigation__link" href="https://js.tensorflow.org" target="-_blank">
            <i class="material-icons icon-style">star</i>
            <span>TensorFlow.js</span>
          </a> -->
        </nav>
      </div>
      
      <main class="mdl-layout__content hero-banner">
        <div class="tutorial-page-container mdl-grid">
          <div class="mdl-cell--8-col mdl-cell--8-col-tablet mdl-cell--4-col-phone">
            <div class="tutorial-breadcrumbs">
  <a href="/what-if-tool/learn">Learn</a> > <a href="/what-if-tool/learn/#analysis">Conducting Analysis in the What-If Tool</a> > Classifier Performance Metrics
</div>
            <h2>Understanding Performance Metrics For Classifiers</h2>
<p>While evaluating the overall performance of a model gives some insight into its quality, it does not give much insight into how well models perform across groups nor where errors truly reside. To better understand the outcomes of a model, the What-If Tool provides a confusion matrix for comparing the prevalence of different types of model results.</p>
<p>A confusion matrix illustrates the match and mismatch between the prediction of the model(s) and the corresponding actual outcomes. This is accomplished by keeping count of all the times the model(s) succeeded and failed in predicting the outcome with respect to the ground truth. These outcomes are then placed in a contingency table that summarizes the relationship between <em>Predicted</em> (what the model says) and <em>Actual</em> (what the ground truth says) outcomes.</p>
<p>Available only for classification-type models, the What-If Tool automatically generates a confusion matrix table, located in the <em>Playground</em> section of the <em>Performance &amp; Fairness</em> workspace:</p>
<div class="mdl-cell mdl-cell--12-col mdl-cell--6-col-tablet mdl-cell--4-col-phone">
  <img class="tutorial-image" src="/what-if-tool/assets/images/confmatrix.png"/>
  <div class="tutorial-caption">Confusion Matrix from the Income Classification Demo</div>
</div>
<p>In this example, the confusion matrix is depicting the outcomes of two binary classification models trained using the same dataset: a linear (blue) and a deep neural net model (orange). Both models are tasked to predict whether someone is likely to earn more than $50,000 in annual salary based on data from the US Census.</p>
<p>In this context, what is &quot;<strong>Yes</strong>&quot; in &quot;<em>Predicted</em> <strong>Yes</strong>&quot; or &quot;<strong>No</strong>&quot; in &quot;<em>Actual</em> <strong>No</strong>&quot; depends on the provided <em>label</em> associated with the outcome. Here, an income &gt;$50,000 is labeled as Positive (&quot;Yes&quot;), and an income ≤$50,000 is labeled as Negative (&quot;No&quot;). In cases where the model makes the correct prediction (&quot;<em>Predicted</em> <strong>Yes</strong>&quot; and &quot;<em>Actual</em> <strong>Yes</strong>&quot;, or &quot;<em>Predicted</em> <strong>No</strong>&quot; and &quot;<em>Actual</em> <strong>No</strong>&quot;) are classified as <strong>True</strong>, and cases where the model makes the wrong prediction (&quot;<em>Predicted</em> <strong>Yes</strong>&quot; and &quot;<em>Actual</em> <strong>No</strong>&quot;, or &quot;<em>Predicted</em> <strong>No</strong>&quot; and &quot;<em>Actual</em> <strong>Yes</strong>&quot;) are classified as <strong>False</strong>.</p>
<div class="mdl-cell info-box mdl-cell--12-col mdl-cell--6-col-tablet mdl-cell--4-col-phone">
  <div class="info-box-title">Using positive and negative to describe classes.</div>
  <div class="info-box-text">Positive and Negative in this context should not be interpreted as value judgments. We are not suggesting that someone who earns more than $50,000 a year is a better person than someone who earns less than $50,000. They are just standard terms used to distinguish between the two possible predictions the model can make.</div>
</div>
<p>As such, the confusion matrix in the What-If Tool captures the following states:</p>
<table>
<thead>
<tr>
<th>Result</th>
<th>Model Output</th>
<th>Ground Truth</th>
<th>Confusion Matrix Prediction Entry</th>
<th>Confusion Matrix Ground Truth Entry</th>
</tr>
</thead>
<tbody>
<tr>
<td>True Positive</td>
<td>Model Predicts &gt;$50,000</td>
<td>Ground Truth &gt;$50,000</td>
<td>Predicted Yes</td>
<td>Actual Yes</td>
</tr>
<tr>
<td>True Negative</td>
<td>Model Predicts &lt;=$50,000</td>
<td>Ground Truth &lt;=$50,000</td>
<td>Predicted No</td>
<td>Actual No</td>
</tr>
<tr>
<td>False Positive</td>
<td>Model Predicts &gt;$50,000</td>
<td>Ground Truth &lt;=$50,000</td>
<td>Predicted Yes</td>
<td>Actual No</td>
</tr>
<tr>
<td>False Negative</td>
<td>Model Predicts &lt;=$50,000</td>
<td>Ground Truth &gt;$50,000</td>
<td>Predicted No</td>
<td>Actual Yes</td>
</tr>
</tbody>
</table>
<p>The What-If Tool can also expand the confusion matrix for multi-classification cases:</p>
<div class="mdl-cell mdl-cell--12-col mdl-cell--6-col-tablet mdl-cell--4-col-phone">
  <img class="tutorial-image" src="/what-if-tool/assets/images/irisconfmatrix.png"/>
  <div class="tutorial-caption">Confusion Matrix from the Multi-Classification Flower Demo</div>
</div>
<p>With these outcomes computed, the What-If Tool then calculates a variety of performance metrics that take the values from the confusion matrix as input to describe more generally what is happening with the model. These performance metrics include the following:</p>
<table>
<thead>
<tr>
<th>Evaluation Metric</th>
<th>Formula</th>
<th>Question Answered</th>
</tr>
</thead>
<tbody>
<tr>
<td>Precision</td>
<td>True Positives / (True Positives + False Positives)</td>
<td>How often does the model correctly predict the positive label?</td>
</tr>
<tr>
<td>Recall</td>
<td>True Positives / (True Positives + False Negatives)</td>
<td>Out of all the available positive labels, how many did the model correctly identify?</td>
</tr>
<tr>
<td>Accuracy</td>
<td>(True Positives + True Negatives) / Total Number of Datapoints</td>
<td>How often does the model correct predict any label?</td>
</tr>
<tr>
<td>F1</td>
<td>2 x (Precision x Recall) / (Precision + Recall)</td>
<td>In summary, how well does the model perform?</td>
</tr>
</tbody>
</table>
<p>These performance metrics are displayed beside (Precision, Recall) or above (Accuracy, F1) the confusion matrix in the same Playground:</p>
<div class="mdl-cell mdl-cell--12-col mdl-cell--6-col-tablet mdl-cell--4-col-phone">
  <img class="tutorial-image" src="/what-if-tool/assets/images/binaryperf.png"/>
  <div class="tutorial-caption">Fully-Expanded Playground in the Performance & Fairness Workspace from the Income Classification Demo</div>
</div>
<p>In addition to comparing performances between two models, the What-If Tool, with its <em>Slice by</em> option in the <em>Configure</em> module, offers the capability of producing a confusion matrix and associated metrics for any group in the dataset that can be defined by a single feature’s values or a cross of two features.</p>
<div class="mdl-cell mdl-cell--12-col mdl-cell--6-col-tablet mdl-cell--4-col-phone">
  <img class="tutorial-image" src="/what-if-tool/assets/images/binaryperfcompare.png"/>
  <div class="tutorial-caption">Comparing Education Subgroups from Income Classification Demo</div>
</div>
<p>In this running example, exploring the performance metrics with respect to Education might reveal where the model overperforms and underperforms, as well as how represented these groups are in the dataset.</p>
<p>While it may seem daunting at first, this level of information is needed to better understand the relationship between performance metrics and desirable outcomes. The What-If Tool provides such interactive visualizations without additional overhead to make it easier to ask questions about model performances.</p>

          </div>
          <div class="mdl-cell--4-col hide-me">
            <div class="tutorial-info-container">
              <div class="tutorial-info-header">time to read</div>
              <div class="tutorial-info-copy">10 minutes</div>
              <div class="tutorial-info-header">use with</div>
              <div class="tutorial-info-copy">Classification models<br/>Multi-class models</div>
              <div class="tutorial-info-header">before you begin</div>
              <div class="tutorial-info-copy">N/A</div>
              <div class="tutorial-info-header">related demos</div>
              <div class="tutorial-info-copy">Binary Classification Model: UCI Census Income Prediction</div>
              <div class="tutorial-info-header">takeaways</div>
              <div class="tutorial-info-copy">Develop an understanding behind the metrics featured in the Performance & Fairness workspace<br/><br/>Learn about what a confusion matrix is, its purpose, how it’s calculated, and how to read it.</div>
              <div class="tutorial-info-header">what-if questions</div>
              <div class="tutorial-info-copy">In summary, how well does the model perform?<br/><br/>How often does the model correctly predict any label?<br/><br/>How often does the model correctly predict the positive label?<br/><br/>Out of all the available positive labels, how many did the model correctly identify?<br/><br/>How does the model perform with respect to a subgroup?</div>
            </div>
          </div>
          <div class="tutorial-footer mdl-cell--8-col mdl-cell--8-col-tablet mdl-cell--4-col-phone">
            The What-If Tool is being actively developed and documentation is likely to change as we improve the tool. We want to hear from you! Leave us a note, feedback, or suggestion on <a href="https://groups.google.com/forum/#!forum/what-if-tool" target="_blank">our community group</a>.
          </div>
        </div>

        <div class="footer-container mdl-grid">
  <div class="mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--4-col-phone"><a href="https://pair.withgoogle.com/" target="_blank"><img src="/what-if-tool/assets/images/pair-logo.svg"/></a></div>
  <div class="mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--4-col-phone"><a href="https://research.google/teams/brain/pair/" target="_blank">Google Research</a></div>
  <div class="mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--4-col-phone"><a href="https://groups.google.com/forum/#!forum/what-if-tool" target="_blank">Get Involved</a></div>
  <div class="mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--4-col-phone"><a href="https://github.com/pair-code" target="_blank">Github</a></div>
  <div class="footer-icons mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-cell--4-col-phone">
    <a href="mailto:peopleai@google.com" target="_blank"><img src="/what-if-tool/assets/images/mail.png"/></a>
    <a href="https://medium.com/people-ai-research" target="_blank"><img src="/what-if-tool/assets/images/medium.png"/></a>
    <a href="https://www.youtube.com/channel/UCnnns-uu4yy9BXfYSPIX5AA" target="_blank"><img src="/what-if-tool/assets/images/youtube.png"/></a>
  </div>
</div>
      </main>

    </div>
  </body>

  

  <script defer src="/what-if-tool/assets/js/material.min.js"></script>
  <script defer src="/what-if-tool/assets/js/material-components-web.min.js"></script>
</html>
